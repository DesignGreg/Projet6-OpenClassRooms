{"code":"!function(t){var e={};function r(n){if(e[n])return e[n].exports;var a=e[n]={i:n,l:!1,exports:{}};return t[n].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&\"object\"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,\"default\",{enumerable:!0,value:t}),2&e&&\"string\"!=typeof t)for(var a in t)r.d(n,a,function(e){return t[e]}.bind(null,a));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,\"a\",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p=\"\",r(r.s=2)}([function(t,e,r){\"use strict\";r.r(e),r.d(e,\"Obstacle\",function(){return n}),r.d(e,\"Weapon\",function(){return a}),r.d(e,\"Player\",function(){return o});r(1);function n(t,e){this.name=t,this.sprite=e}function a(t,e,r){this.name=t,this.sprite=e,this.damage=r}function o(t,e,r){this.name=t,this.sprite=e,this.life=r}},function(t,e,r){\"use strict\";r.r(e),r.d(e,\"Board\",function(){return a}),r.d(e,\"ctx\",function(){return n}),r.d(e,\"drawBoard\",function(){return drawBoard});const n=$(\"#board\").get(0).getContext(\"2d\");function a(t,e){this.width=t,this.height=e,this.chartBoard=[];for(var r=0;r<this.width;r++){const t=[];this.chartBoard.push(t);for(var n=0;n<this.height;n++){const e={};t.push(e)}}}a.prototype.drawBoard=function(){for(var t=0;t<this.width;t++)for(var e=0;e<this.height;e++)n.beginPath(),n.strokeStyle=\"black\",n.strokeRect(64*e,64*t,64,64),n.closePath()},a.prototype.test=function(){console.log(this)}},function(t,e,r){$(document).ready(function(){r(1),r(0),r(3),r(4)})},function(t,e,r){\"use strict\";r.r(e);var n=r(1),a=r(0);n.Board.prototype.setPiece=function(t){let e=Math.floor(Math.random()*this.width),r=Math.floor(Math.random()*this.height),o=64*e,i=64*r;if(e>=this.width||r>=this.height)throw new Error(\"Pièce hors limite\");if(t instanceof a.Obstacle){if(!(this.chartBoard[r][e]instanceof a.Obstacle)){this.chartBoard[r][e]=t;let a=t.sprite;n.ctx.drawImage(a,o,i)}}else if(t instanceof a.Weapon){if(!(this.chartBoard[r][e]instanceof a.Obstacle||this.chartBoard[r][e]instanceof a.Weapon)){this.chartBoard[r][e]=t;let a=t.sprite;n.ctx.drawImage(a,o,i)}}else{if(!(t instanceof a.Player))throw new Error(\"Pièce non valide\");if(!(this.chartBoard[r][e]instanceof a.Obstacle||this.chartBoard[r][e]instanceof a.Weapon||this.chartBoard[r][e]instanceof a.Player||this.chartBoard[r][e+1]instanceof a.Player&&void 0!==typeof this.chartBoard[r][e+1]||this.chartBoard[r][e-1]instanceof a.Player&&void 0!==typeof this.chartBoard[r][e-1]||this.chartBoard[r+1][e]instanceof a.Player&&void 0!==typeof this.chartBoard[r+1][e]||this.chartBoard[r-1][e]instanceof a.Player&&void 0!==typeof this.chartBoard[r-1][e])){this.chartBoard[r][e]=t;let a=t.sprite;n.ctx.drawImage(a,o,i)}}},n.Board.prototype.setObstacles=function(t){for(let e of t){this.setPiece(e)}},n.Board.prototype.setWeapons=function(t){let e,r;for(let n=0;n<4;n++)e=Math.floor(Math.random()*t.length),r=this.setPiece(t[e])},n.Board.prototype.setPlayers=function(t){for(let e of t){this.setPiece(e)}};(function(t){return new Promise(e=>{const r={},n=Object.entries(t).map(t=>{const[e,n]=t;return function(t){return new Promise((e,r)=>{const n=new Image;n.onload=(()=>{e(n)}),n.onerror=r,n.crossOrigin=\"anonymous\",n.src=t})}(n).then(t=>{r[e]=t})});Promise.all(n).then(()=>{e(r)})})})({lave:\"https://i.imgur.com/enx5Xc8.png\",player1:\"https://i.stack.imgur.com/TaOmA.png\",player2:\"https://art.pixilart.com/64629c0ba19e223.png\"}).then(function(t){let e=new n.Board(10,10);console.log(e);const r=[new a.Obstacle(\"Lave\",t.lave),new a.Obstacle(\"Lave1\",t.lave),new a.Obstacle(\"Lave2\",t.lave),new a.Obstacle(\"Lave3\",t.lave),new a.Obstacle(\"Lave4\",t.lave),new a.Obstacle(\"Lave5\",t.lave),new a.Obstacle(\"Lave6\",t.lave),new a.Obstacle(\"Lave7\",t.lave),new a.Obstacle(\"Lave8\",t.lave),new a.Obstacle(\"Lave9\",t.lave)],o=[new a.Weapon(\"Dague\",t.lave,5),new a.Weapon(\"Epée\",t.lave,10),new a.Weapon(\"Hache\",t.lave,15),new a.Weapon(\"Fléau\",t.lave,20)],i=[new a.Player(\"Joueur 1\",t.player1,100),new a.Player(\"Joueur 2\",t.player2,100)];e.drawBoard(),e.setObstacles(r),e.setWeapons(o),e.setPlayers(i)})},function(t,e){}]);","extractedComments":[]}